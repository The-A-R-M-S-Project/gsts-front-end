<template>
  <div
    class="responsive-viva"
    :class="$vuetify.breakpoint.xs ? 'mobile-viva' : 'desktop-viva'"
  >
    <canvas id="donutChart"></canvas>
  </div>
</template>
<script>
import Chart from "chart.js";
import { mapGetters } from "vuex";
export default {
  name: "vivaStatus",
  data() {
    return {
      chartData: {
        type: "doughnut",
        options: chartOptions,
      },
    };
  },
  mounted() {
    this.createChart("donutChart", this.chartData);
  },
  computed: {
    ...mapGetters(["vivaStats"]),
  },
  methods: {
    createChart(chartId, chartData) {
      Chart.defaults.global.defaultFontFamily = "Comfortaa";
      const ctx = document.getElementById(chartId);
      new Chart(ctx, {
        type: chartData.type,
        data: {
          datasets: [
            {
              label: "Viva Status",
              //   data: [this.vivaStats.done, this.vivaStats.pending],
              data: [10, 8],
              backgroundColor: ["#FF9800", "#4CAF50"],
              borderWidth: [0, 0, 0, 0],
            },
          ],
          labels: ["Pending", "Done"],
        },
        options: chartData.options,
      });
    },
  },
};
const chartOptions = {
  maintainAspectRatio: false,
  legend: {
    position: "bottom",
    labels: {
      usePointStyle: true,
      fontColor: "black",
      fontSize: 15,
      padding: 18,
    },

  },
  cutoutPercentage: 5,
  layout: {
    padding: {
      left: 12,
      right: 12,
    },
  },
};
</script>

<style>
.responsive-viva {
  position: relative;
}
.desktop-viva {
  height: 53vh !important;
}
.mobile-viva {
  height: 30vh !important;
}
</style>